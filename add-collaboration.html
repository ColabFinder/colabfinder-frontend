<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8"><title>Add Collaboration</title>
  <link rel="stylesheet" href="styles.css">
</head><body>
<div id="global-header"></div>

<h1>Add Collaboration</h1>
<form id="add-form">
  <input id="title" placeholder="Title"><br>
  <textarea id="desc" placeholder="Description"></textarea><br>
  <input id="type" placeholder="Type"><br>
  <button>Add</button>
</form>

<script type="module" src="./supabaseClient.js"></script>
<script type="module">
import { supabase } from './supabaseClient.js';
document.getElementById('add-form').onsubmit = async e=>{
  e.preventDefault();
  const {error}=await supabase.from('collaborations').insert([{
    title: title.value, description: desc.value, type: type.value
  }]);
  if(error) return alert(error.message);
  location.href='dashboard.html';
};
</script>
<script type="module" src="./header-loader.js"></script>
</body></html>
